# busmaker-ios
iOS 버스·도보 경로 탐색 앱 (네이버 검색 API, TAGO API 연동)

– Swift/MapKit 기반

---

## 📱 프로젝트 소개

**Bus Route Finder**는 출발지와 도착지 입력만으로  
실제 지도(MapKit)에 경로를 표시해주는 iOS 버스 경로 탐색 앱입니다.  
지도와 리스트 UI를 모두 지원하며,  
실시간 내 위치(GPS) 기반 이동도 제공합니다.

---

## 🚩 주요 기능

- **출발지/도착지 장소 검색**
  - 장소명을 입력하면 네이버/카카오 등 장소 검색 API로 위경도 자동 변환
- **지도에 출발/도착 마커 표시**
  - MapKit에 출발지·도착지 위치를 마커로 표시
  - 두 위치를 선으로 연결(경로 시각화)
- **버스 정류장 자동 매핑**
  - 입력한 장소 근처(약 3~400m)의 실제 버스 정류장을 자동 검색/매핑
- **버스 경로 탐색**
  - 정류장 간 직통/환승 포함 노선을 검색, 각 경로의 버스 번호/정류장/요금/환승 정보 등을 리스트로 출력
- **경로 리스트 화면**
  - 여러 경로를 카드 형태로 리스트업, 각 카드에 소요시간/요금/환승정보/버스번호 등 표시 (최소 소요 시간 정렬)
- **지도-리스트 분리**
  - 지도(Map), 경로 리스트(RouteList) 화면 분리로 직관적인 UI 제공
- **실시간 내 위치 표시**
  - 내 위치(GPS)를 지도에 실시간 파란 점(마커)으로 표시, 사용자가 이동하면 자동 갱신

---

## 🗂️ 주요 화면 흐름

1. **메인(검색) 화면**  
   - 출발지/도착지 입력
   - 즐겨찾기, 최근 검색어 저장 기능  
2. **경로 리스트 화면**  
   - 추천 경로 카드 리스트로 표시 
   - 경로 카드 클릭 시 지도 이동
3. **지도(RouteMap) 화면**  
   - 선택 경로의 출발/도착 마커, 선 표시  
   - 내 위치 파란 점 실시간 표시

---

## 🛠️ 개발 환경

- **Swift (iOS)**
- **Xcode**
- **MapKit**
- **CoreLocation** (GPS)
- **MacInCloud** (클라우드에서 원격 Mac 환경을 임대 후 window 환경에서 개발)
- (장소 검색/버스 API: 네이버/TAGO)

---
## 경로 탐색 및 지도 표시 전체 과정
1. 출발지/도착지 입력
사용자는 앱 첫 화면에서 출발지와 도착지 장소명을 입력
네이버 검색 API(Naver Search API)를 사용해
 입력한 장소명을 실제 지도상의 위도/경도(좌표)로 변환

2. 주변 정류장 자동 매칭
변환된 출발지/도착지 좌표를 바탕으로
국토교통부 TAGO 버스정류소 정보 API로
 인근(반경 3~400m 등) 버스정류장 목록을 조회
출발/도착 각각 “최대 3개”의 후보 정류장 자동 추출

3. 정류소와 노선 정보 탐색
출발/도착지 정류장 조합별로
TAGO 노선정보 API를 이용
출발 정류장을 경유하는 노선/버스 목록 조회
각 노선별 전체 정류장 리스트 조회
도착지 정류장도 해당 노선에 포함되어 있는지 검사
직통, 환승 구간, 경유 정류장 등 조건에 따라 경로 후보 생성

4. 경로별 상세 이동 시간/구간 계산
각 경로에 대해:
버스 직통 경로: 출발지 ↔ 출발 정류장, 출발 정류장 ↔ 하차 정류장, 하차 정류장 ↔ 도착지
 (위/경도 좌표 이용 직접 거리 계산 + “도보 소요 시간” 추정 계산)
환승 포함 시: 중간 환승 정류장, 연결 가능한 노선까지 추가 탐색

5. 최적 경로 정렬 및 리스트 생성
“최소 소요 시간” 기준으로 경로들을 정렬 (기본 설정)
API 응답을 토대로 UI에 맞게 카드 형태의 경로 리스트 생성
구간별 요약, 버스/도보 구간 시각화, 상세 설명 추가

6. 지도 시각화
MapKit을 사용해
출발지/도착지/승차/하차/경유 정류장 등에 마커 표시
전체 경로(도보, 버스 등)는 폴리라인(선)으로 연결

7. 최종 결과 화면 표시
사용자가 경로를 선택하면
 선택된 경로에 따라 지도 화면에서
 사용자 실시간 위치 및 주요 지점 강조 표시


```

## 📦 디렉터리 구조

```

├── BusRouteFinder/
│   ├── AppDelegate.swift
│   ├── SceneDelegate.swift
│   ├── Main.storyboard
│   ├── RouteListViewController.swift
│   ├── RouteMapViewController.swift
│   ├── Model/
│   │   └── (예: Route.swift, Station.swift)
│   └── ...

```

---

## ⚙️ 실행 방법

1. `git clone` 후 Xcode로 열기
2. Info.plist에서 위치 권한 설명(`NSLocationWhenInUseUsageDescription`) 추가
3. 실제 API키 필요, 사용 시 프로젝트 내 개인키 설정 / 1. https://www.data.go.kr/data/15098533/openapi.do (TAGO 버스 api), 2. https://developers.naver.com/products/service-api/search/search.md (네이버 search API)
4. 시뮬레이터/실기기에서 실행

---

## 📝 향후 개발 계획
  25.06.18
  macincloud 서버 오류로 read.me에 해당 작업 내용 작성, 문제 해결 후 read.me에 있는 내용 기반으로 앱에 추가 예정
  
- 즐겨찾기 경로 저장/불러오기
- 최근 검색어 기능
  
  ---
  
- 다양한 경로 필터(최소 환승 등)
- 정류장 상세 정보/버스 실시간 위치 연동 (api 추가 연결 필요)

---

## 📧 문의

- 작성자: 한준서  
- 이메일/joonseo1.han@gmail.com

```

